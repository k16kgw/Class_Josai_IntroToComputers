# 期末試験

- 時間：60分
- 配点：合計30点（全5問+α）
- 持込：筆記用具・A4用紙1枚
- 誤答であっても**途中式・手順**が残っていれば，ここから加点をすることがある．

---

<u>**問1** （加算器）〔4点〕</u>

**問1-1.** 次の図で示した全加算器を組み合わせ，4ビットのリップルキャリー加算器の回路図を描け。
なお、加算する2つの変数と加算した結果の変数の下から$i$桁目を$A_i$，$B_i$，$S_i$と表記することとする．
つまり$A_4 A_3 A_2 A_1 + B_4 B_3 B_2 B_1 = S_5 S_4 S_3 S_2 S_1$を計算する．（2点）

**問1-2.** 次に示す回路は4ビットの加算を計算する桁上げ先見回路付き4ビット加算器であるが，リップルキャリー加算器より桁上げ先見回路付き4ビット加算器の方が計算速度が速くなる理由を述べよ。（2点）

![桁上げ先見回路付き4ビット加算器](/contents/figs/8/CLA.png)

---

<u>**問2** （フリップフロップ回路）〔4点〕</u>

**問2-1.** 次のTフリップフロップ回路の回路図を参考に，状態遷移表を埋める形で完成させよ．

![TFF回路](/contents/figs/10/tff_circuit.png)

| 入力$T$ | 現在の状態$Q$ | 次の状態$Q'$      |
| :-:    | :-:          | :-:             |
|  0     |  0           |                 |
|  0     |  1           |                 |
|  1     |  0           |                 |
|  1     |  1           |                 |

**問2-2.** 次のJKフリップフロップ回路の回路図を参考に，状態遷移表を埋める形で完成させよ．
なお，$CLK$はクロックを表す．

![JKフリップフロップ](/contents/figs/10/jkff_circuit_sol.png)

| 入力<br>$J$ | 入力<br>$K$ | 現在の状態$Q$ | 次の状態$Q'$<br>$（CLK=0$のとき） | 次の状態$Q'$<br>（$CLK=1$のとき） |
| :-:        | :-:         | :-:         | :-:                    | :-:                   |
|  0         |  0          |  0          |                        |                       |
|  0         |  0          |  1          |                        |                       |
|  0         |  1          |  0          |                        |                       |
|  0         |  1          |  1          |                        |                       |
|  1         |  0          |  0          |                        |                       |
|  1         |  0          |  1          |                        |                       |
|  1         |  1          |  0          |                        |                       |
|  1         |  1          |  1          |                        |                       |

---

<br>

<u>**問3** （NAND回路）〔7点〕</u>

次のNANDゲートを用いた回路について，次の問に答えよ．

![NANDゲート](/contents/figs/8/nand_memory2.png)

**問3-1.** 次の表を埋める形で，$A,B$の全ての組み合わせに対して$P,Q$はどの値を取れば良いか答えよ．（2点）

| $A$ | $B$ | $P$ | $Q$ |
| :-: | :-: | :-: | :-: |
|  0  |  0  |     |     |
|  0  |  1  |     |     |
|  1  |  0  |     |     |
|  1  |  1  |     |     |
|  1  |  1  |     |     |

※ $(A,B)=(1,1)$のときは2通りの可能性がある．

**問3-2.** 入力の値が$(A,B)=(0,1)$から$(1,1)$に変わったとき，出力$(P,Q)$の値はどのように変化するかを述べよ．（2点）

**問3-3.** 入力の値が$(A,B)=(0,0)$から$(1,1)$に変わったとき，出力$(P,Q)$の値はどのように変化すると予想されるか．現実の電気回路を想定して述べよ．（3点）

---

<br><br><br><br><br>
<br><br><br><br><br>
<br><br><br><br><br>
<br><br><br><br><br>
<br>

<u>**問4** （自動販売機の実装）〔13点〕</u>

1種類の硬貨のみを考え，硬貨を3枚入れるとコーヒーが出てくる自動販売機を次の手続きに従って実装する．

1. **状態遷移図の作成**：初期状態と終了状態を含む複数の状態を定義し，次に各状態への入力とそれにより生じる状態遷移と出力を定義する．
2. **2進コード化**：各状態と入出力を表す2進数の値を決め，1で作成した状態遷移図を2進数の値で描き直す．
3. **状態遷移表の作成**：現在の状態から入力により次の状態へ遷移し，出力する様子を状態遷移表にまとめる．
4. **回路化**：状態遷移表に従い，状態遷移図と同様の動作を行う順序回路を，フリップフロップと組合せ回路を用いて設計する．

次のような状態遷移図を考える．

![状態遷移図](/contents/figs/9/state_graph.png)

また次のルールに従って2進コード化を行い，状態遷移図は次のようになる．

- 入力：硬貨を投入する/しない → 1,0
- 出力：コーヒーを出す/出さない → 1,0
- 現在の状態：硬貨の枚数0,1,2枚 → 00,01,10

<!-- ![2進コード化](/contents/figs/9/bit_graph.png) -->
![2進コード化](/contents/figs/14/bit_graph.png)

各状態に対応する変数を次のように定義する．

- 入力：硬貨を投入する/しない(1,0) → $S$（1bit）
- 出力：コーヒーを出す/出さない(1,0) → $G$（1bit）
- 現在の状態：硬貨の枚数0,1,2枚(00,01,10) → $C_1, C_0$（2bit）
- 次の状態：硬貨の枚数0,1,2枚(00,01,10) → $N_1, N_0$（2bit）

<br><br><br>

**問4-1.** 次の状態遷移表を埋めて完成させよ．（4点）

![状態遷移表](/contents/figs/14/q4-1.png)

**問4-2.** $N_1$, $N_0$, $G$のカルノー図を作成し，$N_1$, $N_0$, $G$を加法標準形で表せ．（9点）

最終的にこれらを回路として実装すると次のようになる．これを参考に$N_1$, $N_0$, $G$の加法標準形を検算してよい．

![回路](/contents/figs/11/vending_circuit.png)

---

<u>**問5** （メモリ）〔2点〕</u>

メモリは**ROM**(Read Only Memory)と**RAM**(Random Access Memory)との2種類に大別できるが、ROMとRAMの電源を切ったときの挙動の違いを説明せよ。

---

<u>**問α**（追加得点の問題）</u>

半導体メモリの種類（RAM/ROM/不揮発メモリの方式名）を思い出せる限り列挙せよ（略称でも良い）．

※ なお，正答1つにつき1点を加算し，誤答が6つ以上ある場合は誤答1つにつき1点を減点する．
また，問5まで全答すれば満点の30点を獲得できるが，全答でない場合に本問で獲得した得点を加算して成績評価に使用する．
